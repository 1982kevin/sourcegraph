<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="953px" height="801px" viewBox="-0.5 -0.5 953 801" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2020-11-12T04:29:26.271Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.183 Safari/537.36&quot; etag=&quot;2GN7-ElSAs4PqcgwsQHG&quot; version=&quot;13.9.6&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;prtHgNgQTEPvFCAcTncT&quot; name=&quot;Page-1&quot;&gt;7Vxtc5u4Fv41nm0/2MOLwc7HxE22nZvezSS709v9JoNstMXIK0Sd7K+/egUBwgHHTtJN05nGHIQkdJ7znBfJGfmLzf2vBGyTzziG6chz4vuR/2HkeZ7j+uwXlzxIiev4SrImKFaySnCH/oG6oZIWKIZ5rSHFOKVoWxdGOMtgRGsyQAje1ZutcFofdQvWsCW4i0Daln5BMU2kdO7NKvlHiNaJHtkNz+SdJYi+rQkuMjXeyPPduXfpX8rbG6D7Ui+aJyDGO0PEWvoLgjGVnzb3C5jyxdXLJp+76rhbzpvAjPZ54BYt1v/5tCHXH2dXv/23iP+El/k4kL18B2mh1uPynsIsRzhj4gTnlL8pm2NOmf63KFurl6EPegHzHdqkIGNXFwndpEzoso9RgtL4Gjzggk8up2yx9NUFgTmDwY2eudsQfQYcXQ6TsscIVZDxuCDBBP2DMwpS1aIS3PEhVG8rlKYLnGIiZuhfih/RH8HfoHHnSvzwJ1gfhtw95/+YXC0PJBTed667W2qTmQnEG0jJA2uiHhiHc4WA0kTUqu8qvAVT1SYxsDZ3lBAojK/LzsvxbplNgGzNlDFsQN8yXtAYDqQUkgxQeMFRnpvoYh+Md61EAnMD8Be28PcZIA49mhAI4p5ga+HkmQHQbVqdqNCsYGLAG4qBmjaGLr0XtFYXxowa1SUmNMFrnIH0spJeCL6DsbK+qs01xluljL8gpQ9KGaCguK6qFCxhelFSp7nkkjwHKKmUyxfhsx+mIoW+HBckgnvaaSfHYLaG+zo0iL2mdAJTQNH3+vQ6rfqcEPBgNNhilNHc6PmGCyosubOgbu9qvleHtWcf5Ax6WvofOSS/Lf/iztlzhH61QwxTTvdL9mHNP0TMpCm8YUuxwmSzYMqE9/Td+xE3WfZACDYMQxeiKZM12une2OBlhyP/nDX8lCGKQMoRx3SunhrnWxihFYp4bAIo4MvJPDXzy5BhlpMZd8gEctGSL/am4DGH4NE7gYc1D3hE4LHZ4gwKDagpZst8W8IuRdk3+cIJpTxoOecr6V3lVS8T1geTrBFNiqW6yM1BGldj/pIpZu95FaWIY5i1ULO9ygl7pyv9nryJXKAJn6B/HZyNQ6XeveYvdV7nC4MKKkPnVrtLEIV3WyCsZMdmWTfq10C34V66Deoe0W87xKmNfYNgMPmyS8MghvDx/Ccf9+RjrarH+bgDFcfi42OHQ/5PDBwdA/7siRjoMPSBbo+7MYLTFJJ3irCl92q4uS5vWKZledVRt0tciCFFGM3/h+XDMpEun19wDkxQxP1cwvxjCnkLIIDK3NSmyFDEFkkkg0tIdxBmZafaMzksL0yrZtLLmiO+nJM0Z3FVvbfylGEwnrk9PGUtqHtrntKWO1pdZXgUV9nfqFTQI42rtI6PON8TURK8QTks5aLHRYpzsEzhZRYLXr8BiDSf7DCzZjSozC437A5GhbILbfR8JWnSNs2y3LIQ3EQLIqyVB65bPW+HEYWWiWk6eMX7UFMX7VeUG7YDWU68TFGeiJKNeGSJYkTYyiLuHCwGHjEGyPiCn5erTcr3VZIibUpSpCVsmvccSO/0fPhLYjl/ceP85pOeMmZvT6pVeW+scdVhewh4v8ViIVpjlHfkIEI2aBAmNF/uFUb2rueMXR0l7mes8HiMJYzwBudIoMT/ELFJs1X1Lzj1MPCk140GGxTHIi5hKdna+sS5ulG2zNnoDKe3ik1C/jCJVLwSVg2u4Yrf938IIvXCOpN6FiYt2dZkUnf+jFmHrmY/b8TJdaFuut6PGoH6054RaPDSEegXbtU2L8YdeaNtl1uSxGrtQzk0YFB9kUu/wxhRsOhePq2x568Yr1O4SJjPg4xaZOSmOvHVJ85S2gGMWcA5VnLpBEQxeVw5iEfpUiryjQZ4U8+bWEI810JM02fkJf9FeImtK3n4H39+4p4FWvCVCcbOxJnNteSD3qGSVw/m1Q0kiC0L93hC+GNy26xvdj21g21YhaVdovYbKHUb2JMTuyktvHchZmDaXsssFiJkW8idaCZ7997OiC8XPIItMu9G5VR1dbhPabhWMfnX86HbI0yz7c76wzfmDq8NKzY09km/JFCWWxreGvEscANBlRotuUMHDAXfGZ5jmWDmUJRpGs7+l1xORFdx8oigLe/nj9tr3VtnfCDuriCN7MntsuDlpRap/8vANK2Daeb1dK3Nrfej7fIGsxZyWkzXqBaWhb3uiE/smOnCYSciqgKDqInU6h5ykIktAr1UqXzPeHUfKK1dWGPTgyHZyGReP0Qb8V/gtk8i2CE6PPrrB9Hp1ALRZuyXxef8sBcvJ6Qgz1H02rcwjh4SteoJs4ZCZLDQCokssVWwv6ODY6ue+m4fOgM7gKg14L+WEZo8IMbrtCqqNnTfv84kjFX13zTeaT8U7ceKirfUPEflKZ9DrHh6osjamehoQul/fDY5m9W7watVDk+i/Lk3yNgzLM56xSBPSkY2VM/lN4DyY2pC4jl+aen6NKf3Q9Sb2no2T4btiRgOhYNSftjct+nLImeNDK3V0YlZpB3XWE6uWjdgGmh7nUcKHzlT6k57bNPZvPjpzhPqvdQXq9jU6jVVccZeqnnVjKCw/XiVRh+Yf6xKMz1RBbpnLc+12KptZxSVJ/linhncwgjyyfF8Ns/5Of4yiTC2/+RO6I+eVnYoyB6zl7G4eaDbVqM4WVo5bR/cvuMBgzMKnXWKlyD9PUH5hMC/C0TgiIeuskDANwlWRRYp3dME0JG53y0zuW2xTMXRTTOlkzu7O1n3qB1pQZstow6ZHf5d8C9UXNQqZ1r4RJi8wlRvEGyCeV/YnCrVmzktFbz13ca+XD/tW5EPn5o3PI0YhtebBu01WipPZb1qX72pOchxK0/2s3Bvs/o0iJKmluqTlZJmJ/Nk7dL6QhyAbGi7ddwrdGwalq7oThTOc+n37DgUtfZ6gb014sKAnTkIFT7wsQlaHozk0U45FTY7vSsgJ2r4Zb6TTmj17YiWEb0t1PYo6z9v/DUPWyp4jmTrHlEj12JXX407VabFL2p74m81QQv7HhGaPrVm/CQ0hbYK/JPPENX3kaxE1vfk0NthmtbuTE+mOeBsTs+QvR3Q/d4Vtom95wzvBHBB/FAmfdrNeK0vBhiald+JqBfhTLWoWrCpQyXqvwNgw0udFluQsewZdFPJ8QHhOvNJfb8mtKRxDBVtTHin8j5BO2ZquyPbjp2oqu7dyGsuv3Y52sl8rbmfx1xOzeFU/qfD5byUi9GF06MdOO0q9514S0EXp5tHaoLmUZm+ewxj12ukC9NGTyfeZAj9A4H+CqsPHTsKz4QJV+dZ+hu4c/dATMwf6ejUkGhXPn9y3+m5L3hq+euFuC88nPsa5z2C+fNy3/xF/j7Ic2L+VTFzn688n/X1/2d2G3hqNskuq79XJXFW/VUw//L/&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(24, 46, 62);">
	<defs />
	<g>
		<path d="M 20 0 L 0 0 L 0 800 L 20 800" fill="#eeeeee" stroke="#ffffff" stroke-miterlimit="10" pointer-events="all" />
		<path d="M 20 0 L 540 0 L 540 800 L 20 800" fill="none" stroke="#ffffff" stroke-miterlimit="10" pointer-events="none" />
		<path d="M 20 0 L 20 800" fill="none" stroke="#ffffff" stroke-miterlimit="10" pointer-events="none" />
		<g transform="translate(-0.5 -0.5)rotate(-90 10 400)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 400px; margin-left: 10px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">
								Extension host bootstrapping
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="10" y="404" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">
					Extension host bootstrapping
				</text>
			</switch>
		</g>
		<path d="M 20 20 L 20 0 L 540 0 L 540 20" fill="#eeeeee" stroke="#ffffff" stroke-miterlimit="10" pointer-events="none" />
		<path d="M 20 20 L 20 800 L 540 800 L 540 20" fill="none" stroke="#ffffff" stroke-miterlimit="10" pointer-events="none" />
		<path d="M 20 20 L 540 20" fill="none" stroke="#ffffff" stroke-miterlimit="10" pointer-events="none" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 10px; margin-left: 280px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">
								Main thread
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="280" y="14" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">
					Main thread
				</text>
			</switch>
		</g>
		<path d="M 280 90 L 280 98.63" fill="none" stroke="#ffffff" stroke-miterlimit="10" pointer-events="none" />
		<path d="M 280 103.88 L 276.5 96.88 L 280 98.63 L 283.5 96.88 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" pointer-events="none" />
		<a xlink:href="https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/client/shared/src/platform/context.ts#L59-65" target="_blank">
			<rect x="70" y="35" width="420" height="55" rx="8.25" ry="8.25" fill="#eeeeee" stroke="#ffffff" />
			<g transform="translate(-0.5 -0.5)">
				<switch>
					<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
						<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 418px; height: 1px; padding-top: 63px; margin-left: 71px;">
							<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
								<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
									<b>
										createPlatformContext() =&gt; PlatformContext
									</b>
									: Initialize platform-specific data and methods shared by multiple Sourcegraph components
								</div>
							</div>
						</div>
					</foreignObject>
					<text x="280" y="66" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
						createPlatformContext() =&gt; PlatformContext: Initialize platform-specif...
					</text>
				</switch>
			</g>
		</a>
		<path d="M 280 170 L 280 190 L 405 190 L 405 198.63" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 405 203.88 L 401.5 196.88 L 405 198.63 L 408.5 196.88 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 280 170 L 280 190 L 150 190 L 150 198.63" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 150 203.88 L 146.5 196.88 L 150 198.63 L 153.5 196.88 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<a xlink:href="https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/client/shared/src/extensions/controller.ts#L65-71" target="_blank">
			<rect x="70" y="105" width="420" height="65" rx="9.75" ry="9.75" fill="#eeeeee" stroke="#ffffff" />
			<g transform="translate(-0.5 -0.5)">
				<switch>
					<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
						<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 418px; height: 1px; padding-top: 138px; margin-left: 71px;">
							<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
								<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
									<b>
										createController(context: PlatformContext) =&gt; ExtensionsController
									</b>
									: Create the extensions controller, which handles all communication between the client application and extensions
								</div>
							</div>
						</div>
					</foreignObject>
					<text x="280" y="141" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
						createController(context: PlatformContext) =&gt; ExtensionsController: Cr...
					</text>
				</switch>
			</g>
		</a>
		<a xlink:href="https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/client/shared/src/platform/context.ts#L120-128" target="_blank">
			<rect x="280" y="205" width="250" height="185" rx="11.1" ry="11.1" fill="#eeeeee" stroke="#ffffff" />
			<g transform="translate(-0.5 -0.5)">
				<switch>
					<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
						<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 239px; height: 1px; padding-top: 298px; margin-left: 284px;">
							<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
								<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
									<b>
										context.createExtensionHost() =&gt; Promise&lt;ClosableEndpointPair&gt;
									</b>
									:  Creates the execution context with the extension host, returns a promise for a pair of endpoints after establishing a bidirectional communication channel:
									<br />
									<ul>
										<li>
											proxy (endpoint to proxy API of other context)
										</li>
										<li>
											expose (endpoint to expose API to other context)
										</li>
									</ul>
								</div>
							</div>
						</div>
					</foreignObject>
					<text x="404" y="301" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
						context.createExtensionHost() =&gt; Promise...
					</text>
				</switch>
			</g>
		</a>
		<path d="M 275 467.5 L 275 503.63" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 275 508.88 L 271.5 501.88 L 275 503.63 L 278.5 501.88 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<a xlink:href="https://github.com/GoogleChromeLabs/comlink#comlinkwrapendpoint-and-comlinkexposevalue-endpoint" target="_blank">
			<rect x="70" y="422.5" width="410" height="45" rx="6.75" ry="6.75" fill="#eeeeee" stroke="#ffffff" />
			<g transform="translate(-0.5 -0.5)">
				<switch>
					<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
						<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 445px; margin-left: 71px;">
							<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
								<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
									<b>
										Wrap
									</b>
									<b>
										the extension host API
									</b>
									with a proxy using comlink
								</div>
							</div>
						</div>
					</foreignObject>
					<text x="275" y="449" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
						Wrap the extension host API with a proxy using comlink
					</text>
				</switch>
			</g>
		</a>
		<path d="M 149.95 235 L 149.95 412.62" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 149.95 417.87 L 146.45 410.87 L 149.95 412.62 L 153.45 410.87 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<a xlink:href="https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/blob/client/shared/src/api/client/connection.ts#L55" target="_blank">
			<rect x="30" y="205" width="240" height="30" rx="4.5" ry="4.5" fill="#eeeeee" stroke="#ffffff" />
			<g transform="translate(-0.5 -0.5)">
				<switch>
					<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
						<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 220px; margin-left: 31px;">
							<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
								<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
									<b>
										createExtensionHostClientConnection()
									</b>
								</div>
							</div>
						</div>
					</foreignObject>
					<text x="150" y="224" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
						createExtensionHostClientConnection()
					</text>
				</switch>
			</g>
		</a>
		<rect x="60" y="725" width="410" height="50" rx="7.5" ry="7.5" fill="#eeeeee" stroke="#ffffff" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 750px; margin-left: 61px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
								When an extension is meant to be activated, send the extension's id and script URL to the extension host to fetch the extension bundle
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="265" y="754" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
					When an extension is meant to be activated, send the extension's id...
				</text>
			</switch>
		</g>
		<rect x="70" y="510" width="410" height="55" rx="8.25" ry="8.25" fill="#eeeeee" stroke="#ffffff" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 408px; height: 1px; padding-top: 538px; margin-left: 71px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
								<b>
									Create the client API
								</b>
								by which the extension host communicates with the client.
								<b>
									Expose
								</b>
								<b>
									to the extension host
								</b>
								using comlink
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="275" y="541" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
					Create the client API by which the extension host communicates with...
				</text>
			</switch>
		</g>
		<path d="M 280 275 L 161.37 275" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 156.12 275 L 163.12 271.5 L 161.37 275 L 163.12 278.5 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 266px; margin-left: 228px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: none; font-weight: bold; background-color: #182E3E; white-space: nowrap; ">
								await
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="228" y="270" fill="#FFFFFF" font-family="Helvetica" font-size="14px" text-anchor="middle" font-weight="bold">
					await
				</text>
			</switch>
		</g>
		<path d="M 20 665 L 950 665" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" />
		<path d="M 540 20 L 540 0 L 950 0 L 950 20" fill="#eeeeee" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 540 20 L 540 800 L 950 800 L 950 20" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 540 20 L 950 20" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 10px; margin-left: 745px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: nowrap; ">
								Extension host execution context
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="745" y="14" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">
					Extension host execution context
				</text>
			</switch>
		</g>
		<path d="M 760 305 L 760 403.63" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 760 408.88 L 756.5 401.88 L 760 403.63 L 763.5 401.88 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<rect x="590" y="255" width="340" height="50" rx="7.5" ry="7.5" fill="#eeeeee" stroke="#ffffff" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 280px; margin-left: 591px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
								Execution context initialized. Receive message with endpoint pair
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="760" y="284" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
					Execution context initialized. Receive message with endp...
				</text>
			</switch>
		</g>
		<rect x="590" y="585" width="340" height="55" rx="8.25" ry="8.25" fill="#eeeeee" stroke="#ffffff" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 613px; margin-left: 591px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
								Set `globalThis.require` to a function that returns the public extension API when extensions import "sourcegraph"
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="760" y="616" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
					Set `globalThis.require` to a function that returns the...
				</text>
			</switch>
		</g>
		<path d="M 760 480 L 760 500 L 760 495 L 760 508.63" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 760 513.88 L 756.5 506.88 L 760 508.63 L 763.5 506.88 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<rect x="590" y="410" width="340" height="70" rx="10.5" ry="10.5" fill="#eeeeee" stroke="#ffffff" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 445px; margin-left: 591px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
								<b>
									Create the extension host API
								</b>
								by which the client communicates with the extension host.
								<b>
									Expose
								</b>
								<b>
									to the client application
								</b>
								using comlink
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="760" y="449" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
					Create the extension host API by which the client commun...
				</text>
			</switch>
		</g>
		<rect x="580" y="725" width="340" height="50" rx="7.5" ry="7.5" fill="#eeeeee" stroke="#ffffff" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 750px; margin-left: 581px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
								Call
								<b>
									`
								</b>
								importScripts` with the extension's script URL
								<b>
									,
								</b>
								then
								<b>
								</b>
								call the `activate` function exported by the extension
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="750" y="754" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
					Call `importScripts` with the extension's script URL, th...
				</text>
			</switch>
		</g>
		<path d="M 760 560 L 760 578.63" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 760 583.88 L 756.5 576.88 L 760 578.63 L 763.5 576.88 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<rect x="590" y="515" width="340" height="45" rx="6.75" ry="6.75" fill="#eeeeee" stroke="#ffffff" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 538px; margin-left: 591px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #1A1A1A; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">
								<b>
									Wrap
								</b>
								<b>
									the client API
								</b>
								with a proxy using comlink
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="760" y="541" fill="#1A1A1A" font-family="Helvetica" font-size="12px" text-anchor="middle">
					Wrap the client API with a proxy using comlink
				</text>
			</switch>
		</g>
		<rect x="648.5" y="685" width="223" height="20" fill="none" stroke="none" />
		<g transform="translate(-0.5 -0.5)">
			<switch>
				<foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
					<div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 221px; height: 1px; padding-top: 695px; margin-left: 650px;">
						<div style="box-sizing: border-box; font-size: 0; text-align: center; ">
							<div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: none; font-weight: bold; white-space: normal; word-wrap: normal; ">
								The extension host is now ready to activate extensions
							</div>
						</div>
					</div>
				</foreignObject>
				<text x="760" y="699" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">
					The extension host is now ready to ac...
				</text>
			</switch>
		</g>
		<path d="M 486.37 445 L 583.63 445" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 481.12 445 L 488.12 441.5 L 486.37 445 L 488.12 448.5 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 588.88 445 L 581.88 448.5 L 583.63 445 L 581.88 441.5 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 531 276 L 584.63 276" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 589.88 276 L 582.88 279.5 L 584.63 276 L 582.88 272.5 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 486.37 537.5 L 583.63 537.5" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 481.12 537.5 L 488.12 534 L 486.37 537.5 L 488.12 541 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 588.88 537.5 L 581.88 541 L 583.63 537.5 L 581.88 534 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 470 750 L 573.63 750" fill="none" stroke="#ffffff" stroke-miterlimit="10" />
		<path d="M 578.88 750 L 571.88 753.5 L 573.63 750 L 571.88 746.5 Z" fill="#ffffff" stroke="#ffffff" stroke-miterlimit="10" />
	</g>
	<switch>
		<g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" />
		<a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank">
			<text text-anchor="middle" font-size="10px" x="50%" y="100%">
				Viewer does not support full SVG 1.1
			</text>
		</a>
	</switch>
</svg>
